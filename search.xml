<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ÂõõÊãõÁæéÂåñclickÂëΩ‰ª§Ë°åÂ∫îÁî®]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%9B%9B%E6%8B%9B%E7%BE%8E%E5%8C%96click%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[pythonÂú®ÂÆûÁé∞ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÁöÑÊñπÈù¢ÊúâÂæàÂ§öÊúâ‰ºòÂäøÁöÑÂ∫ìÔºåÂÖ∂‰∏≠ClickÊòØÂÖ∂‰∏≠ÁöÑ‰Ωº‰ΩºËÄÖ„ÄÇ ‰ªäÂ§©‰∏çÊòØClickÁöÑÊïôÂ≠¶ÔºåÂèÇËÄÉÂÆòÊñπÊñáÊ°£Â∞±ÂèØ‰ª•ÂæàÂø´ÂÜôÂá∫‰∏Ä‰∏™‰∏çÈîôÁöÑÂëΩ‰ª§Ë°åÂ∫îÁî®„ÄÇ‰ªäÂ§©Êàë‰ª¨Êù•ÂÅöÂõõ‰ª∂‰∫ãÊèêÈ´òÊàë‰ª¨ÂëΩ‰ª§Ë°åÂ∫îÁî®ÁöÑBÊ†ºÔºö ÈïøÊó∂Èó¥‰ªªÂä°ÁöÑÁ≠âÂæÖÊïàÊûú ÂëΩ‰ª§Ë°åÂ∏ÆÂä©ÁöÑÊñáÊ°£ÁöÑÁæéÂåñ ÈîôËØØÂëΩ‰ª§ÁåúÊµãÊèêÁ§∫ Êó•ÂøóÁ∫ßÂà´ÁöÑÊéßÂà∂ Âø´ÈÄüÂÆûÁé∞‰∏Ä‰∏™Á≠âÂæÖÊïàÊûú Âú®ÂæàÂ§öÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÁöÑ‰∫§‰∫íËøáÁ®ã‰∏≠Â≠òÂú®ÁùÄÈïøÊó∂Èó¥Á≠âÂæÖ‰∏Ä‰∫õ‰ªªÂä°ÔºåÂ¶ÇÊûúÊ≤°Êúâ‰∏Ä‰∫õÂèãÂ•ΩÁöÑÊèêÁ§∫ÔºåÁªèÂ∏∏‰ºöË¢´‰ΩøÁî®ËÄÖËÆ§‰∏∫Âç°Ê≠ªÊàñËÄÖÊ≠ªÂæ™ÁéØÁ≠âÊÉÖÂÜµ„ÄÇËÄåËøõÂ∫¶Êù°ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏‰∏çÈîôÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåprogressbarÔºåprogressiveÈÉΩÊòØ‰∏çÈîôÁöÑÈÄâÊã©, click‰πüÊúâËá™Â∑±ÁöÑclick.progressbar„ÄÇ‰ΩÜÊòØÈÅáÂà∞ÊÄª‰ΩìËøõÂ∫¶È¢ÑÂÖà‰∏çÁü•ÈÅìÁöÑ‰ªªÂä°Ôºå‰æãÂ¶ÇÔºöÁ≠âÂæÖÊüê‰∏™‰ªªÂä°ÂÆåÊàê„ÄÅÁ≠âÂæÖÊï∞ÊçÆÂä†ËΩΩÁ≠âËøô‰∫õ‰∏çÁü•ÈÅì‰ªÄ‰πàÊó∂ÂÄôÊâçËÉΩÂÆåÊàêÁöÑ‰ªªÂä°ÁöÑÊó∂ÂÄôËøõÂ∫¶Êù°Â∞±‰∏çÈÇ£‰πàÂ•ΩÁî®‰∫Ü„ÄÇËøô‰∏™Êó∂ÂÄôÊúÄÁÆÄÂçïÁöÑ‰∏Ä‰∏™Ë°®Á§∫ÊñπÂºèÂ∞±ÊòØÂæ™ÁéØÂä®ÁîªÊí≠ÊîæÔºåÊØîÂ¶ÇiOS‰∏≠ÁöÑ‚ÄúËΩ¨ËèäËä±‚Äù„ÄÇ ‰Ω†ÂèØ‰ª•Ëá™Â∑±ÂÜô‰∏Ä‰∏™ÂºÇÊ≠•ÁöÑÂä®ÁîªÊí≠ÊîæÊïàÊûúÔºåËøôÈáåÊàëÂ∞±‰∏çÂÜô‰∫Ü„ÄÇÊàë‰ªäÂ§©Ë¶ÅÁî®ÈùûÂ∏∏ÁÆÄÂçïÁöÑÊñπÊ≥ïÊù•ÂÆûÁé∞Ëøô‰∏ÄÊïàÊûúÔºåÊàë‰ª¨Áî®Âà∞ÁöÑÊòØblindspinÔºå‰∏Ä‰∏™click-spinnerÁöÑforkÔºåÊ≤°‰ªÄ‰πàÂ§ßÂèòÂåñ‰∏ªË¶ÅÊòØÂä®ÁîªÊïàÊûú‰∏ç‰∏ÄÊ†∑„ÄÇ ÂÆâË£Ö pip install blindspin spinner.pyimport timeimport clickimport blindspindef a_long_time_task(): """Ê®°Êãü‰∏Ä‰∏™ÈúÄË¶ÅÁ≠âÂæÖÁöÑ‰ªªÂä°""" time.sleep(5)@click.command()def cli(): # Â∞ÜÈïøÊó∂Èó¥ÁöÑ‰ªªÂä°ÊîæÂú®Ëøô‰∏™withËØ≠Âè•‰∏≠Â∞±ÂèØ‰ª•‰∫Ü # with‰∏≠ÊâßË°åÁöÑ‰ªªÂä°ÂÖ®ÈÉ®ÁªìÊùüÔºåÂä®ÁîªÊïàÊûúÂ∞±‰ºöÁªìÊùü with blindspin.spinner(): a_long_time_task()if __name__ == "__main__": cli() ÊïàÊûú: ÁæéÂåñÂ∏ÆÂä©ÊñáÊ°£clickËÉΩÂ§üÈùûÂ∏∏Êñπ‰æøÁöÑÁîüÊàêÂ∏ÆÂä©ÊñáÊ°£ÔºåÈÄöËøáÂëΩ‰ª§Ë°åÂèÇÊï∞--helpÂ∞±ËÉΩÊü•ÁúãÂà∞„ÄÇÈªòËÆ§ÁöÑÂ∏ÆÂä©ÊñáÊ°£ÊòØ‰∏ÄËâ≤ÁöÑÔºåÁé∞Âú®Êàë‰ª¨Êù•ÁªôÂÆÉ‰∏äËâ≤Âêß„ÄÇ ÂÆâË£Ö pip install click-help-colors ËøôÈáåÊàëÂ∞±Áî®ÂÆòÁΩëÁöÑ‰æãÂ≠êÔºåÁ®çÁ®çÊîπ‰∏ÄÁÇπÁÇπÔºåËá™Â∑±‰Ωì‰ºö‰∏Ä‰∏ãÂ∞±‰ºöÁî®‰∫Ü„ÄÇ colour_help.pyimport clickfrom click_help_colors import HelpColorsGroup, HelpColorsCommand@click.group( cls=HelpColorsGroup, help_headers_color='yellow', help_options_color='magenta')def cli(): """‰∏ªÂëΩ‰ª§""" pass@cli.command()@click.option('--count', default=1, help='Some number.')def command1(count): click.echo('command 1')@cli.command(cls=HelpColorsCommand, help_options_color='blue')@click.option('--name', help='Some string.')def command2(name): click.echo('command 2')if __name__ == "__main__": cli() ÊïàÊûú python colour_help.py --help python colour_help.py command1 --help python colour_help.py command2 --help ÁåúÊµãÁî®Êà∑Â∏åÊúõÁöÑÂëΩ‰ª§ÂΩìÊàë‰ª¨Â≠êÂëΩ‰ª§ÊØîËæÉÂ§öÁöÑÊó∂ÂÄôÔºåÁî®Êà∑ÂèØËÉΩ‰ºöËÆ∞Èîô„ÄÅÊãºÈîôÊàñËÄÖÊâìÈîô„ÄÇËÉΩÊèêÁ§∫Áî®Êà∑Ê≠£Á°ÆÁöÑÂëΩ‰ª§ÈÇ£ÊòØÂ§ö‰πàcoolÁöÑ‰∏Ä‰ª∂‰∫ãÔºåÁÑ∂ËÄåÊàë‰ª¨ÁªèÂ∏∏Áî®ÁöÑgitÂ∞±ÊúâËøôÊ†∑ÁöÑÂäüËÉΩ„ÄÇ ËøôÈáåÊàëËæìÈîôpushÂëΩ‰ª§ÔºågitÊèêÁ§∫Êàë‰ª¨Ê≠£Á°ÆÁöÑÂÜôÊ≥ï„ÄÇËøô‰∏™ÂäüËÉΩÂ∑≤ÁªèÊúâ‰∫∫Â∏ÆÊàë‰ª¨ÂÆûÁé∞‰∫ÜÔºåÂ∞±ÊòØclick-didyoumean ÂÆâË£Ö pip install click-didyoumean Áî®Ê≥ï ‰∏∫‰Ω†ÁöÑÂëΩ‰ª§ÁªÑÊåáÂÆöDYMGroupÁ±ª import clickfrom click_didyoumean import DYMGroup@click.group(cls=DYMGroup)def cli(): pass@cli.command()def foo(): pass@cli.command()def bar(): pass@cli.command()def barrr(): passif __name__ == "__main__": cli() Â∞ÜÈúÄË¶ÅÁöÑÂ≠êÂëΩ‰ª§ÊîæÂÖ•DYMCommandCollection‰∏≠ import clickfrom click_didyoumean import DYMCommandCollection@click.group()def cli1(): pass@cli1.command()def foo(): pass@cli1.command()def bar(): pass@click.group()def cli2(): pass@cli2.command()def barrr(): passcli = DYMCommandCollection(sources=[cli1, cli2])if __name__ == "__main__": cli() DYMGroupÂíåDYMCommandCollectionÁ±ªÊúâ‰∏§‰∏™ÈÖçÁΩÆÈ°πÔºå ÂèÇÊï∞ Á±ªÂûã ÈªòËÆ§ÂÄº ÊèèËø∞ max_suggestions int 3 ÊúÄÂ§ßÂª∫ËÆÆÊù°ÁõÆÊï∞ cutoff float 0.5 Â∞è‰∫éËøô‰∏™ÂèØËÉΩÊÄßÂàÜÊï∞ÁöÑÂ∞Ü‰ºöË¢´ÂøΩÁï• ‰æãÔºö @cli.group(cls=DYMGroup, max_suggestions=2, cutoff=0.7)def cli(): pass... or ...cli = DYMCommandCollection(sources=[cli1, cli2], max_suggestions=2, cutoff=0.7) ËøôÈáåÊúâ‰∏™Â∞èÊèíÊõ≤ÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥ÂêåÊó∂‰ΩøÁî®click-help-colorsÂíåclick-didyoumeanÔºåÈÇ£‰πà‰Ω†‰ºöÂèëÁé∞‰ªñ‰ª¨ÈÉΩÈúÄË¶ÅÂØπclsÂèÇÊï∞ËøõË°å‰øÆÊîπ„ÄÇÊÄé‰πàÂêåÊó∂ËÆ©‰∏§ËÄÖÈÉΩÁîüÊïàÂë¢ÔºüËøôÈáåÂèØ‰ª•‰ΩøÁî®pythonÁöÑÂ§öÈáçÁªßÊâøÂäüËÉΩ„ÄÇ class CLI(DYMGroup, click_help_colors.HelpColorsGroup): pass@click.group( cls=CLI, help_headers_color='yellow', help_options_color='blue')def cli(): pass ËøôÊ†∑Êàë‰ª¨Â∞±ËÉΩ‰ΩøÂæóÊàë‰ª¨ÁöÑÂëΩ‰ª§Ë°åÂ∫îÁî®ÂêåÊó∂ÂÖ∑Â§áÁùÄ‰∏§ÁßçÂäüËÉΩ‰∫Üüëç„ÄÇ Áî®Êà∑ÊåáÂÆöÊó•ÂøóÁ≠âÁ∫ßÊàë‰ª¨ÁªèÂ∏∏ÊúâËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåÂ∏åÊúõÊó•ÂøóÁ≠âÁ∫ßÂèØ‰ª•ÈÄöËøáÂèÇÊï∞ÁöÑ‰º†ÂÖ•Êù•ÊéßÂà∂„ÄÇÊØîÂ¶ÇÔºåÈªòËÆ§ÊÉÖÂÜµÂè™ËæìÂá∫‰∏Ä‰∏ãÂøÖË¶Å‰ø°ÊÅØ„ÄÇÂä†ÂÖ•ÂèÇÊï∞-vÂèØ‰ª•ÊòæÁ§∫Êõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ ÈÄöÂ∏∏ÊÉÖÂÜµÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑ÂÆûÁé∞Ôºö import logginglogger = logging.getLogger(__name__)@click.command()@click.option('--verbose', '-v', default=False, is_flag=True)def cli(verbose): if verbose: logger.setLevel(logging.ERROR) else: logger.setLevel(logging.INFO) logger.info("ÊôÆÈÄöËæìÂá∫‰ø°ÊÅØ") logger.error("ËØ¶ÁªÜ‰ø°ÊÅØ") ÁÑ∂ËÄåclick-logÂ∑≤Áªè‰∏∫Êàë‰ª¨ÂÆûÁé∞‰∫ÜËøô‰∏ÄÂäüËÉΩÔºå‰ΩøÁî®pythonÊúÄÂ§ßÁöÑÂ•ΩÂ§ÑÂ∞±ÊòØDRY(Don‚Äôt repeat yourself) ÂÆâË£Ö pip install click-log ËøôÈáåÊàë‰ª¨‰ªÖ‰ªÖÊºîÁ§∫Âü∫Êú¨ÁöÑÂÅöÊ≥ïÔºåÊõ¥Â§öËá™ÂÆö‰πâÁöÑÂÜÖÂÆπËØ∑ÂèÇËÄÉÂÆòÊñπÊñáÊ°£ import loggingimport click_loglogger = logging.getLogger(__name__)click_log.basic_config(logger)@click.command()@click_log.simple_verbosity_option(logger)def cli(): logger.info("Dividing by zero.") try: 1 / 0 except: logger.error("Failed to divide by zero.") ‰ª•‰∏ä‰ª£Á†ÅÔºå‰∏≠click_log.simple_verbosity_optionË£ÖÈ•∞Âô®‰∏∫ÂëΩ‰ª§Â¢ûÂä†‰∫Ü‰∏Ä‰∏™--verbosityÂèØÈÄâÂèÇÊï∞ÔºåÂÆÉÊé•ÂèóDEBUG,INFO,WARNING,ERRORÊàñËÄÖCRITICALËøôÂá†‰∏™ÂÄºÊù•ÊéßÂà∂Êó•ÂøóÁ∫ßÂà´„ÄÇ Â•Ω‰∫Ü‰ª•‰∏äÂ∞±ÊòØÊàë‰ª¨Áî®Êù•ÁæéÂåñclickÂëΩ‰ª§Ë°åÂ∫îÁî®ÁöÑÂõõÊãõ„ÄÇ]]></content>
      <tags>
        <tag>python</tag>
        <tag>cli</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÜô‰∏Ä‰∏™pythonË£ÖÈ•∞Âô®]]></title>
    <url>%2F2019%2F04%2F28%2F%E5%86%99%E4%B8%80%E4%B8%AApython%E8%A3%85%E9%A5%B0%E5%99%A8%2F</url>
    <content type="text"><![CDATA[Ë£ÖÈ•∞Âô®ÁöÑÁî®ÈÄîË£ÖÈ•∞Âô®ÁöÑ‰∏ªË¶Å‰ΩúÁî®Âú®‰∫éÂØπÁé∞ÊúâÊñπÊ≥ï„ÄÅÂáΩÊï∞ËøõË°å‰∏ÄÂÆöÁöÑÊâ©Â±ïÔºåÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØÂú®ÂéüÊúâÂáΩÊï∞„ÄÅÊñπÊ≥ïË∞ÉÁî®Ââç„ÄÅÂêéÂéªÊ∑ªÂä†‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÂäüËÉΩ„ÄÇËá≥‰∫éÊõ¥È´òÂ±ÇÊ¨°ÁöÑÁî®Ê≥ïÔºåÊàë‰ª¨Â∞±‰∏çÊ∑±ËÆ®ËÆ∫‰∫Ü„ÄÇ‰ªäÂ§©Âè™ËØ¥‰∏Ä‰∫õÁÆÄÂçïÁöÑ„ÄÇ ÁªìËÆ∫ÂÖàÂá∫ÁªìËÆ∫ÔºåË£ÖÈ•∞Âô®ÁöÑÂÜôÊ≥ïÊòØÊúâ‰∏ÄÂÆöËßÑÂæãÁöÑÔºåÂèØ‰ª•ÊåâÁÖß‰ª•‰∏ã ÂÖ¨Âºè Êù•Â•óÁî®„ÄÇ from functools import wrapsdef decorate(func): @wraps(func) def wrapper(*args, **kwargs): # funcË∞ÉÁî®ÂâçÊâ©Â±ïÂäüËÉΩ # ... _r = func(*args, **kwargs) # funcË∞ÉÁî®ÂêéÊâ©Â±ïÂäüËÉΩ... # ... return _r return wrapper ‰ª•‰∏äÂ∞±ÊòØ‰∏Ä‰∏™‰∏çÂ∏¶ÂèÇÊï∞Ë£ÖÈ•∞Âô®ÁöÑÂ•óË∑ØÂÜôÊ≥ï„ÄÇfrom functools import wrapsdef decorate(*decorate_args, **decorate_kwargs): def real_decorate(func): @wraps(func) def wrapper(*args, **kwargs): # *decorate_args, **decorate_kwargsÂèØ‰ª•Âú®ËøôÈáåÁõ¥Êé•‰ΩøÁî® # funcË∞ÉÁî®ÂâçÂäüËÉΩ # ... _r = func(*args, **kwargs) # funcË∞ÉÁî®ÂêéÂäüËÉΩ... # ... return _r return wrapper return real_decorate ‰ª•‰∏äÂ∞±ÊòØ‰∏Ä‰∏™Â∏¶ÂèÇÊï∞Ë£ÖÈ•∞Âô®ÁöÑÂ•óË∑ØÂÜôÊ≥ï„ÄÇ ËØ¶Ëß£Êé•‰∏ãÊù•ÊàëÊù•Â∞ÜËøô‰∏™ ÂÖ¨Âºè ÁöÑÊºîËøõËøáÁ®ãÊé®ÂØº‰∏Ä‰∏ã Âú®python‰∏≠ÂáΩÊï∞„ÄÅÊñπÊ≥ïÈÉΩÊòØ‰∏ÄÁ≠âÂØπË±°ÔºåÊâÄ‰ª•ÂèØ‰ª•ÊääÂáΩÊï∞ÂíåÊñπÊ≥ïÂΩìÊàêÂèòÈáèÊù•ÁúãÂæÖÔºåÊØîÂ¶Ç def foo(a): return a + adouble = foodouble(11)# 22 ËøôÈáåÂ∞ÜfooÂáΩÊï∞Ê†áÂøóÁ¨¶ËµãÂÄºÁªôdoubleÔºåËøôÊ†∑Â∞±ËÉΩÂÉèË∞ÉÁî®foo‰∏ÄÊ†∑Ë∞ÉÁî®double‰∫ÜÔºåËÄå‰∏îËøô‰∏™Êó∂ÂÄôÂà†Èô§fooÔºådouble‰æùÁÑ∂ÂèØ‰ª•‰ΩøÁî®„ÄÇ del foofoo(10)# Traceback (most recent call last):# File "&lt;stdin&gt;", line 1, in &lt;module&gt;# NameError: name 'foo' is not defineddouble(4)# 8 ËÉΩËµãÂÄºÔºå‰πüËÉΩË¢´‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•ÂáΩÊï∞Ôºå‰πüËÉΩ‰Ωú‰∏∫ÁªìÊûúË¢´ËøîÂõû„ÄÇ def add(a, b): return a + bdef print_func_name((func): print(f"Ëøô‰∏™ÊñπÊ≥ïÁöÑÂêçÂ≠óÊòØ:&#123;func.__name__&#125;")# Â∞ÜaddËøô‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•print_func_name(add)# Ëøô‰∏™ÊñπÊ≥ïÁöÑÂêçÂ≠óÊòØ:add# addÂáΩÊï∞‰Ωú‰∏∫ÁªìÊûúË¢´ËøîÂõûdef give_me_add(): return addmyadd = give_me_add()myadd(2, 3)# 5 Êàë‰ª¨Á¶ªË£ÖÈ•∞Âô®‰∏çËøú‰∫ÜÔºåÁé∞Âú®Êàë‰ª¨ÂõûÊÉ≥‰∏Ä‰∏ãË£ÖÈ•∞Âô®ÁöÑÂéüÁêÜÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂ∞ÜÂéüÂáΩÊï∞ÈáçÊñ∞ÂåÖË£Ö‰∏Ä‰∏ãÔºåÂπ∂‰∏îÂ¢ûÂä†‰∫Ü‰∏Ä‰∫õÂäüËÉΩ„ÄÇËøôÈáåË¶ÅÁî®Âà∞‰∏Ä‰∏™pythonÁöÑÁâπÁÇπÔºöpythonÂÖÅËÆ∏Âú®ÊñπÊ≥ïÂÜÖÂÆö‰πâÊñπÊ≥ï„ÄÇÈÇ£‰πàË£ÖÈ•∞Âô®ÁöÑÂü∫Êú¨ÊÄùË∑ØÊàë‰ª¨Â∞±Êúâ‰∫ÜÔºåÊàë‰ª¨Â∞Ü‰∏Ä‰∏™ÈúÄË¶ÅÊâ©Â±ïÁöÑÊñπÊ≥ïÂΩì‰Ωú‰∏Ä‰∏™ÂèÇÊï∞‰º†ÂÖ•ÔºåÁÑ∂ÂêéÂØπÂÖ∂ËøõË°åÂåÖË£ÖÔºåÁÑ∂ÂêéÂÜçËøîÂõûÂåÖË£ÖÂêéÁöÑÂáΩÊï∞„ÄÇ # Êàë‰ª¨Ë¶ÅÊâ©Â±ïÁöÑÂáΩÊï∞Âè´foodef foo(): print("I'm foo")def decorate(func): def wrapper(): return func() return wrapperdecorated_foo = decorate(foo)print(decorated_foo)# &lt;function decorate.&lt;locals&gt;.wrapper at 0x1035d9bf8&gt;# Ê≥®ÊÑèËøôÈáåÊòØwrapperÊ†áËØÜÁ¨¶Âì¶ÔºÅÔºÅdecorated_foo()# ËæìÂá∫:I'm foo Ê¢≥ÁêÜ‰∏äÈù¢ËøôÊÆµ‰ª£Á†ÅÁöÑÂê´‰πâ„ÄÇfooÊòØÊàë‰ª¨ÈúÄË¶ÅÊâ©Â±ïÁöÑÂáΩÊï∞„ÄÇdecorateÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÊñπÊ≥ï‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•ÔºåÂú®decorateÂÆö‰πâ‰∫Ü‰∏Ä‰∏™wrapperÂØπ‰º†ËøõÊù•ÁöÑÊñπÊ≥ïËøõË°åÂåÖË£ÖÔºàËøôÈáå‰ªÄ‰πàÈÉΩÊ≤°ÂÅöÔºâÔºåÊúÄÂêéËøîÂõû‰∫ÜËøô‰∏™ÂåÖË£ÖÂáΩÊï∞„ÄÇÈÇ£‰πàÊàë‰ª¨Âú®Â∞Üfoo‰º†ÂÖ•decorateÂêé‰ºöÂæóÂà∞‰∏Ä‰∏™ÂáΩÊï∞Ê†áËØÜÁ¨¶ÁöÑËøîÂõûÁªìÊûúÔºåË∞ÉÁî®Ëøô‰∏™ÁªìÊûúÂ∞±Á≠â‰∫éË∞ÉÁî®‰∫ÜwrapperÔºåÊúÄÁªàÊâßË°åÁöÑÂ∞±ÊòØwrapperÈáåÁöÑÈÄªËæë‰∫Ü„ÄÇËøôÊ†∑Â∞±ÂæóÂà∞‰∫ÜÊàë‰ª¨ÊÉ≥Ë¶ÅÊâ©Â±ïÂáΩÊï∞ÁöÑÁõÆÁöÑ„ÄÇ Ë£ÖÈ•∞Âô®ËøîÂõûÁöÑÊòØÂÜÖÈÉ®ÂáΩÊï∞ÁöÑÊ†áËØÜÁ¨¶ÔºåËÄåÊÄªÁªìÈáåÁöÑfrom functools import wrapsÂØºÂÖ•ÁöÑwrapsÂèØ‰ª•Â∞ÜË£ÖÈ•∞ÂêéÁöÑÂáΩÊï∞ÂêçÂ≠óÁ≠â‰∏Ä‰∫õ‰ø°ÊÅØ‰øùÊåÅ‰∏çÂèò„ÄÇÂ§ßÂÆ∂ÂéªËØïËØïÂêß„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨Êù•‰∏™Â§çÊùÇ‰∏ÄÁÇπÁÇπÁöÑÔºåÊàë‰ª¨Ë¶Å‰∏∫ add ÂáΩÊï∞Âä†‰∏Ä‰∏™ÂäüËÉΩÔºöËæìÂá∫‰º†ÂÖ•ÂÆÉÁöÑÂèÇÊï∞ÔºåÂΩìÁÑ∂Êàë‰ª¨‰∏çÂ∏åÊúõÂéªÊîπÂä® add ÂáΩÊï∞Êú¨Ë∫´: def add(a, b): return a + bdef decorate(func): # ÂàöÂàöÊàë‰ª¨Áü•ÈÅìÔºåÊúÄÁªàÊàë‰ª¨ÊòØË∞ÉÁî®‰∫ÜwrapperÂáΩÊï∞Ôºå # ÊâÄ‰ª•ÊúâÂèÇÊï∞ÈúÄË¶Å‰º†ÂÖ•Êâ©Â±ïÂáΩÊï∞ÔºåÈÇ£‰πàÂ∞±Âú®Ë∞ÉÁî®wrapperÁöÑÊó∂ÂÄô‰º†ÂÖ•ÔºåÁî±wrapper‰º†ËææÁªôÊâ©Â±ïÂáΩÊï∞ # ÂΩìÁÑ∂Êàë‰ª¨Âú®‰∏çÁ°ÆÂÆöÊâ©Â±ïÂáΩÊï∞ÁöÑÂèÇÊï∞ÂΩ¢ÊÄÅÁöÑÊó∂ÂÄô # ÂèØ‰ª•Áî®*args, **kwargsÊù•Êõø‰ª£‰ªª‰ΩïÂèÇÊï∞ def wrapper(a, b): print("‰º†ÂÖ•ÂèÇÊï∞: %s, %s" % (a, b)) _r = func(a, b) return _r return wrapperprint_param_add = decorate(add)print_param_add(1,3)# ‰º†ÂÖ•ÂèÇÊï∞: 1, 3# 4 ËøôÊ†∑Êàë‰ª¨Â∞±ÂÅöÂ•Ω‰∫Ü‰∏Ä‰∏™ÊúÄÁÆÄÂçïÂü∫Á°ÄÁöÑË£ÖÈ•∞Âô®‰∫Ü„ÄÇ‰∏∫‰∫ÜËææÂà∞ ‚ÄúË£ÖÈ•∞‚Äù ÁöÑÊïàÊûúÔºåÊàë‰ª¨‰∏çÂ∏åÊúõ‚ÄúË£ÖÈ•∞‚ÄúÂêéÁöÑÂáΩÊï∞ÊîπÂèòÂÖ∂ÂêçÂ≠óÔºåËøô‰∏™‰∏çÈöæ„ÄÇ add = decorate(add) ËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•‰∏çÊîπÂèòÂÖ∂‰ªñÂú∞ÊñπË∞ÉÁî®addÁöÑ‰ª£Á†ÅÔºå‰∏∫addÂ¢ûÂä†‰∏Ä‰∫õÂäüËÉΩ‰∫Ü„ÄÇÂ¶ÇÂêå i += 1 ‰∏ÄÊ†∑python‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËØ≠Ê≥ïÁ≥ñÊù•Êõ¥Âä†ÁÆÄÂçï„ÄÅÁõ¥ËßÇÂú∞‰ΩøÁî®Ë£ÖÈ•∞Âô®„ÄÇ @decoratedef func(): pass# Á≠âÂêå‰∫éfunc = decorate(func) ‰ª•‰∏äÂ∞±ÊòØ‰∏Ä‰∏™ÁÆÄÂçïË£ÖÈ•∞Âô®ÁöÑÂÜôÊ≥ïÊù•‰∫Ü„ÄÇÂú®ÁªìËÆ∫‰∏≠Âè¶Â§ñ‰∏ÄÁßçÊòØÂ∏¶ÂèÇÊï∞ÁöÑË£ÖÈ•∞Âô®ÔºåÈáåÈù¢Áî®Âà∞‰∫ÜÂæàÊ∑±ÁöÑ‰∏Ä‰∫õpythonÁü•ËØÜÔºöÈó≠ÂåÖ„ÄÇ ‰πüÂèØ‰ª•ÁÆÄÂçïÁöÑÁêÜËß£ÊàêÔºåÂÖàÁî®‰∏Ä‰∏™ÂáΩÊï∞ÊûÑÂª∫‰∏Ä‰∏™Ë£ÖÈ•∞Âô®ÔºåËÄåÊàë‰ª¨Âú®Ë£ÖÈ•∞Âô®‰∏ä‰º†ÂÖ•ÁöÑÂèÇÊï∞ËÉΩÂú®ÊûÑÂª∫Âá∫Êù•ÁöÑË£ÖÈ•∞Âô®‰∏≠‚Äú‰ΩøÁî®‚Äù„ÄÇËøôÈáåÁöÑ‰ΩøÁî®ÊòØÊúâÂ±ÄÈôêÊÄßÁöÑÔºåÂéüÂõ†Â∞±ÈúÄË¶Å‰Ω†ÂéªÁêÜËß£Èó≠ÂåÖÁöÑÁõ∏ÂÖ≥Áü•ËØÜ‰∫Ü„ÄÇÁî®‰∏ÄÊÆµ‰ª£Á†ÅÊù•ÁÆÄÂçïËØ¥ÊòéÔºö # Ë£ÖÈ•∞Âô®ÊûÑÂª∫ÂáΩÊï∞def decorate_builder(*n_args, **n_kwargs): def inner_decorate(func): # ‰∏çÂ∏¶ÂèÇÊï∞Ë£ÖÈ•∞Âô®ÁöÑÂÜôÊ≥ï # Âú®ËøôÈáå*n_args, **n_kwargsÂèÇÊï∞ÂèØ‰ª•Ë¢´‰ΩøÁî® # ... return inner_decoratedecorate = decorate_builder(param1=None, param2=True) # ËøôÈáåËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÊôÆÈÄöË£ÖÈ•∞Âô®ÁöÑÊ†áËØÜÁ¨¶foo = decorate(foo) # Á≠âÂêå‰∫é foo = decorate_builder(param1=None, param2=True)(foo)# Áõ∏ÂΩì‰∫é@decorate_builder(param1=None, param2=True)def foo(): pass Â∞èÁªÉ‰π† Êúâ‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøîÂõû‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇÊàë‰ª¨ÂÜô‰∏™Ë£ÖÈ•∞Âô®ÔºåÂ∞ÜÂÆÉÊâìÂç∞ÁöÑÂÜÖÂÆπÊ†πÊçÆÂèÇÊï∞ËΩ¨Êç¢ÊàêÂ§ßÂÜôÊàñËÄÖÂ∞èÂÜô„ÄÇ def case(b): def inner_decorate(func): def wrapper(*args, **kwargs): _r = func(*args, **kwargs) if b == "lower": _r = _r.lower() elif b == "upper": _r = _r.upper() return _r return wrapper return inner_decorate@case("upper") # upperÊàñËÄÖlowerdef output(s): return s]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JupyterWebsocketError]]></title>
    <url>%2F2019%2F03%2F04%2FJupyterWebsocketError%2F</url>
    <content type="text"><![CDATA[JupyterÂêØÂä®Êó∂ÂÄôwebsocketÂá∫Áé∞ÈîôËØØÊä•ÈîôÂ¶Ç‰∏ã: c:\users\xxx\desktop\my-test-project\venv\lib\site-packages\notebook\base\zmqhandlers.py:284: RuntimeWarning: coroutine 'WebSocketHandler.get' was never awaited super(AuthenticatedZMQStreamHandler, self).get(*args, **kwargs) Ëß£ÂÜ≥ÊñπÊ≥ïUninstall tornado 6 and reinstall tornado 5. sudo pip3 uninstall tornadosudo pip3 install tornado==5.1.1 StackoverflowÂéüÂ∏ñ]]></content>
  </entry>
  <entry>
    <title><![CDATA[LVMÈÄªËæëÂç∑ÁÆ°ÁêÜÂô®]]></title>
    <url>%2F2018%2F12%2F19%2FLVM%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86%E5%99%A8%2F</url>
    <content type="text"><![CDATA[Ê¶ÇË¶ÅÈÄöËøáÊï¥ÂêàPV(Physical Volume)ÊàêVG(Volume Group)ÔºåÂÜç‰ªéVG‰∏≠ÂàÜÂâ≤Âá∫LV(Logical Volume)ÔºåÊåÇÂú®LVÊù•‰ΩøÁî®„ÄÇ Âü∫Á°ÄÊìç‰Ωú ÂàõÂª∫pv pvcreate /dev/sdc Â∞ÜpvÂä†ÂÖ•vg‰∏≠ # storageÊòØvgÂç∑ÂêçÁß∞vgcreate storage /dev/sdc ÂàáÂâ≤Âá∫lv # -n lvÂêçÁß∞# Âú®ÂØπÈÄªËæëÂç∑ËøõË°åÂàáÂâ≤Êó∂Êúâ‰∏§ÁßçËÆ°ÈáèÂçï‰Ωç„ÄÇ# Á¨¨‰∏ÄÁßçÊòØ‰ª•ÂÆπÈáè‰∏∫Âçï‰ΩçÔºåÊâÄ‰ΩøÁî®ÁöÑÂèÇÊï∞‰∏∫-L„ÄÇ# ‰æãÂ¶ÇÔºå‰ΩøÁî®-L 150MÁîüÊàê‰∏Ä‰∏™Â§ßÂ∞è‰∏∫150MBÁöÑÈÄªËæëÂç∑„ÄÇ# Âè¶Â§ñ‰∏ÄÁßçÊòØ‰ª•Âü∫Êú¨ÂçïÂÖÉÁöÑ‰∏™Êï∞‰∏∫Âçï‰ΩçÔºåÊâÄ‰ΩøÁî®ÁöÑÂèÇÊï∞‰∏∫-l„ÄÇÊØè‰∏™Âü∫Êú¨ÂçïÂÖÉÁöÑÂ§ßÂ∞èÈªòËÆ§‰∏∫4MB„ÄÇ# ‰æãÂ¶ÇÔºå‰ΩøÁî®-l 37ÂèØ‰ª•ÁîüÊàê‰∏Ä‰∏™Â§ßÂ∞è‰∏∫37√ó4MB=148MBÁöÑÈÄªËæëÂç∑„ÄÇlvcreate -n vo -l 37 storage Ê†ºÂºèÂåñ„ÄÅÊåÇËΩΩ mkfs.ext4 /dev/storage/vomkdir /datamount /dev/storage/vo /data ÂÜôÂÖ•ÈÖçÁΩÆÊñá‰ª∂ÔºåÊ∞∏‰πÖÁîüÊïà echo "/dev/storage/vo /data ext4 defaults 0 0" &gt;&gt; /etc/fstab Âü∫Á°ÄÂëΩ‰ª§ ÂäüËÉΩ/ÂëΩ‰ª§ Áâ©ÁêÜÂç∑ÁÆ°ÁêÜ Âç∑ÁªÑÁÆ°ÁêÜ ÈÄªËæëÂç∑ÁÆ°ÁêÜ Êâ´Êèè pvscan vgscan lvscan Âª∫Á´ã pvcreate vgcreate lvcreate ÊòæÁ§∫ pvdisplay vgdisplay lvdisplay Âà†Èô§ pvremove vgremove lvremove Êâ©Â±ï vgextend lvextend Áº©Â∞è vgreduce lvreduce ÂèÇËÄÉËµÑÊñô]]></content>
  </entry>
  <entry>
    <title><![CDATA[ÂÜô‰∏™ËøáÊª§Âô®]]></title>
    <url>%2F2018%2F05%2F27%2F%E5%86%99%E4%B8%AA%E8%BF%87%E6%BB%A4%E5%99%A8%2F</url>
    <content type="text"><![CDATA[Á±ªÁöÑÁªßÊâøÂÜô‰∏™ËøáÊª§Âô®Âü∫Á±ªclass Filter: def __init__(self): self._filter_list = [] def filter(self, seq): return [i for i in seq if not i in self._filter_list] Ëøô‰∏™Á±ªÊ≤°ÊúâÂäûÊ≥ïËøáÊª§‰ªª‰Ωï‰∏úË•øÔºå‰∏ãÈù¢Êù•ÂÅö‰∏Ä‰∏™ËÉΩÁî®ÁöÑËøáÊª§Âô®„ÄÇ Âà∂ÈÄ†‰∏Ä‰∏™ÊúâÁî®ÁöÑËøáÊª§Âô®Êñ∞Âª∫‰∏Ä‰∏™Á±ªÁªßÊâø‰∫éÂàöÂàöÁöÑFilterÔºåÂú®__init__ÊñπÊ≥ï‰∏≠Âä†ÂÖ•ËøáÊª§ÂàóË°®„ÄÇ class Dollar_Filter(Filter): def __init__(self): self._filter_list = ['$']&gt;&gt;&gt;dollar_filter = Dollar_Filter()&gt;&gt;&gt;dollar_filter.filter([1, 2, 3, 'asdf', '$', 'sx', '%', 'ff', '$'])[1, 2, 3, 'asdf', '$', 'sx', '%', 'ff', '$'] ÊäΩË±°ÊÄùÁª¥Âú®Èù¢ÂêëÂØπË±°ÂíåÂáΩÊï∞ÁºñÁ®ã‰∏≠ÊäΩË±°ÊÄùÁª¥ÂçÅÂàÜÈáçË¶ÅÔºåÂÆÉËÉΩËÆ©‰ª£Á†ÅÂ§çÁî®ÊÄßÊõ¥È´ò„ÄÅËÄ¶ÂêàÂ∫¶Êõ¥‰Ωé„ÄÇ ÂèÇËÄÉ‰∏äËø∞‰æãÂ≠êÊù•Ëá™‰∫é„ÄäPythonÂü∫Á°ÄÊïôÁ®ãÔºàÁ¨¨2ÁâàÔºâ„Äã]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonÂµåÂ•óÂàóË°®ÂàùÂßãÂåñ]]></title>
    <url>%2F2018%2F01%2F30%2FPython%E5%B5%8C%E5%A5%97%E5%88%97%E8%A1%A8%E5%88%9D%E5%A7%8B%E5%8C%96%2F</url>
    <content type="text"><![CDATA[Âßã‰∫é2048Ê∏∏ÊàèÁöÑ‰∏Ä‰∏™ÈóÆÈ¢òÂú®ÂÜô2048ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂÜô‰∏Ä‰∏™4*4ÁöÑÊ∏∏ÊàèÊ£ãÁõò„ÄÇÊúÄÂÆπÊòìÂÆûÁé∞ÁöÑÊñπÊ≥ïÂ∞±ÊòØ‰∫åÁª¥Êï∞ÁªÑÔºå‰æãÂ¶ÇÁî® a[x][y] Êù•Ë°®Á§∫‰∏Ä‰∏™Ê∏∏ÊàèÊ£ãÁõòÁöÑÊ†ºÂ≠ê„ÄÇÁÑ∂ÂêéÁî®ËµãÂÄºÁöÑÊñπÊ≥ïÁªôÊ†ºÂ≠êÂ°´ÂÖÖÊï∞Â≠ó„ÄÇÂΩìÊó∂ÁöÑÂÆûÁé∞ÊñπÊ≥ïÂ¶Ç‰∏ãÔºö a = [['_'] * 4 ] * 4# [['_', '_', '_', '_'],# ['_', '_', '_', '_'],# ['_', '_', '_', '_'],# ['_', '_', '_', '_']]a[1][2] = 'X' # 2Ë°å3ÂàóÂ°´ÂÖÖ'X'# [['_', '_', 'X', '_'],# ['_', '_', 'X', '_'],# ['_', '_', 'X', '_'],# ['_', '_', 'X', '_']] ÊµÅÁïÖÁöÑPythonÁî±‰∫é‰ªÖ‰ªÖÂè™ÂÅö‰∫Ü‰∏ÄÊ≠•ËµãÂÄºÂä®‰ΩúÔºåÊâÄ‰ª•ÊÄé‰πàÊÉ≥ÈÉΩÊ≤°ÊÉ≥ÊòéÁôΩÔºåÊä±ÁùÄ‰æ•Âπ∏ÁöÑÂøÉÈáåÊü•Áúã‰∫Ü‰∏Ä‰∏ã„ÄäÊµÅÁïÖÁöÑpython„ÄãÔºåÊûúÁÑ∂ÂèëÁé∞‰∫ÜÊ°à‰æãÔºåÊèèËø∞ÁöÑÈóÆÈ¢ò‰∏ÄÊ®°‰∏ÄÊ†∑„ÄÇ‰π¶‰∏≠ÁªôÂá∫ÁöÑÊñπÊ≥ïÊòØÔºà‰π¶‰∏≠ÊòØ3*3ÁöÑÊ£ãÁõòÔºâÔºö a = [['_'] * 3 for i in range(3)]# [['_', '_', '_'],# ['_', '_', '_'],# ['_', '_', '_']]a[1][2] = 'X' # 2Ë°å3ÂàóÂ°´ÂÖÖ'X'# [['_', '_', '_'],# ['_', '_', 'X'],# ['_', '_', '_']] ÂéüÂõ†ÈÄöËøá[[&#39;_&#39;] * 4 ] * 4ÁîüÊàêÁöÑÂàóË°®‰∏≠ÁöÑÂÖÉÁ¥†ÂÖ∂ÂÆûÊòØÊåáÂêëÂêå‰∏ÄÂàóË°®ÁöÑ‰∏â‰∏™listÔºå‰ªñ‰ª¨ÁöÑidÊòØÁõ∏ÂêåÁöÑ In [10]: a = [['_'] * 4 ] * 4In [11]: id(a[0])Out[11]: 67027552In [12]: id(a[1])Out[12]: 67027552In [13]: id(a[2])Out[13]: 67027552In [14]: id(a[3])Out[14]: 67027552 ÊâÄ‰ª•Âá∫Áé∞‰∫Ü‰∏äÈù¢ÁöÑÊÉÖÂÜµÔºå‰∏∫ÂÖ∂‰∏≠‰∏Ä‰∏™ÂÖÉÁ¥†ËµãÂÄºÁöÑÊó∂ÂÄôÂêåÊó∂ÊîπÂèò‰∫ÜÂÖ∂‰ªñÁöÑlist„ÄÇ ÂΩìÁÑ∂‰πüÂèØ‰ª•Áî®‰ª•‰∏ãÊñπÊ≥ïÁîüÊàêlistÔºö b = [] for i in range(4): row = ['_'] * 4 b.append(row) forÂæ™ÁéØ‰∏≠ÊØèÊ¨°Âæ™ÁéØ‰ºö‰∫ßÁîü‰∏Ä‰∏™Êñ∞ÁöÑrow„ÄÇ]]></content>
      <tags>
        <tag>python</tag>
        <tag>Êï∞ÊçÆÊ†ºÂºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[skill_stack]]></title>
    <url>%2F2018%2F01%2F10%2Fskill-stack%2F</url>
    <content type="text"><![CDATA[ÊäÄÊúØÊ†àÊñ∞Âπ¥ÂºÄÂßãÂÖàÂüãÁÇπÂùë„ÄÇ DevOps Errbot Êú∫Âô®‰∫∫ StackStorm Â∞ÜÊìç‰ΩúÂéüÂ≠êÂåñËá™Áî±ÁªÑÂêàÁöÑDevOpsÂ∑•ÂÖ∑ Rocket.Chat ÂºÄÊ∫êËÅäÂ§©ÂÆ§ Python circus python3‰∏ãÂèØ‰ª•Áî®Êù•‰ª£Êõøsupervisor click ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ fire Ëá™Âä®ÁîüÊàêÂëΩ‰ª§Ë°å pipenv pythonÂÆòÊñπÊé®ËçêÁöÑÂåÖ„ÄÅËôöÊãüÁéØÂ¢É„ÄÅpythonÁâàÊú¨ÁÆ°ÁêÜÂ∑•ÂÖ∑]]></content>
      <tags>
        <tag>python</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
</search>
